<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Stickman Word Guesser | Normal Mode</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #1b2735, #090a0f);
      color: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
    }
    header {
      font-size: 2rem;
      font-weight: 600;
      margin: 1.5rem 0;
      background: linear-gradient(to right, #00c6ff, #0072ff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    .container {
      background: #141a22;
      padding: 2rem;
      border-radius: 16px;
      box-shadow: 0 4px 24px rgba(0,0,0,.6);
      max-width: 500px;
      width: 90%;
      text-align: center;
    }
    canvas {
      background: #fff;
      border-radius: 8px;
      margin-bottom: 1rem;
    }
    .hint, #word, #message {
      margin: 0.5rem 0;
      font-size: 1.1rem;
    }
    #keyboard {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      margin-top: 1rem;
      gap: 0.4rem;
    }
    #keyboard button {
      width: 35px;
      height: 35px;
      font-size: 1rem;
      font-weight: bold;
      background: #21262d;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    #keyboard button:disabled {
      opacity: .4;
      cursor: default;
    }
    #restart {
      display: none;
      margin-top: 1rem;
      background: #00c9a7;
      color: #fff;
      padding: 0.6rem 1.2rem;
      border: none;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
    }
    .mode-toggle {
      margin-top: 2rem;
      display: flex;
      align-items: center;
      gap: 10px;
      justify-content: center;
    }
    .switch {
      position: relative;
      display: inline-block;
      width: 50px;
      height: 24px;
    }
    .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }
    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #555;
      transition: .4s;
      border-radius: 24px;
    }
    .slider:before {
      position: absolute;
      content: "";
      height: 18px;
      width: 18px;
      left: 3px;
      bottom: 3px;
      background-color: white;
      transition: .4s;
      border-radius: 50%;
    }
    input:checked + .slider {
      background-color: #38ef7d;
    }
    input:checked + .slider:before {
      transform: translateX(26px);
    }
    #modeLabel {
      font-weight: bold;
      background: linear-gradient(to right, #00f260, #0575e6);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .modes{ font-weight: bold;
    background: linear-gradient(to right, #ff512f, #dd2476);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;}

     footer {
      margin-top: auto;
      background-color: #0d1117;
      padding: 2rem;
      text-align: center;
      font-size: 0.9rem;
      color: #ccc;
      border-top: 2px solid #1f2a36;
      width: calc(100% - 2cm);
      margin-left: 1cm;
      margin-right: 1cm;
      margin-top: 1cm;
      border-radius: 16px;
    }
    footer a {
      color: #72a4f2;
      text-decoration: none;
      font-weight: bold;
    }
    footer a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <header>Stickman Word Guessing Game</header>
  <div class="container">
    <canvas id="hangman" width="160" height="200"></canvas>
    <div class="hint" id="hint">Hint: Loading...</div>
    <div id="word">Loading...</div>
    <div id="message"></div>
    <div id="keyboard"></div>
    <button id="restart">Restart</button>

    <div class="mode-toggle">
      <label for="modeToggle" class="modes">Normal Mode</label>
      <label class="switch">
        <input type="checkbox" id="modeToggle">
        <span class="slider"></span>
      </label>
      <span id="modeLabel">Advanced Mode</span>
    </div>
  </div>
<footer>
    Made with ðŸ’“ &amp; care by 
    <a href="https://youtube.com/@PoorvithsLife_Official" target="_blank">Poorvith T.A</a>
    <br><br>
    <script type='text/javascript' src='https://storage.ko-fi.com/cdn/widget/Widget_2.js'></script>
    <script>
    kofiwidget2.init('Support me on Ko-fi', '#72a4f2', 'O5O81GPS1N');
    kofiwidget2.draw();
    </script>
    <br><br>
    Â© 2025 Poorvith T.A â€¢ 
    <a href="https://ig.me/m/i_am_poorvith" target="_blank">Contact Me</a>
  </footer>
<script>
  const simpleNouns = [
    "apple", "banana", "book", "car", "cat", "chair", "dog", "door",
    "egg", "fish", "flower", "fruit", "glass", "hat", "house", "key",
    "lamp", "leaf", "milk", "moon", "nose", "pen", "pencil", "phone",
    "rain", "road", "shoe", "shirt", "star", "sun", "table", "tree",
    "train", "truck", "wall", "watch", "water", "window", "bag", "ball",
    "bed", "bell", "bird", "cake", "cloud", "cup", "fire", "gift", "hill"
  ];

  let chosenWord = "";
  let guessedLetters = [];
  let wrongGuesses = 0;
  const maxWrong = 6;
  const canvas = document.getElementById("hangman");
  const ctx = canvas.getContext("2d");

  async function getSimpleNounWithHint() {
    const word = simpleNouns[Math.floor(Math.random() * simpleNouns.length)].toUpperCase();
    let definition = "";

    try {
      const res = await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${word.toLowerCase()}`);
      const data = await res.json();
      definition = data[0]?.meanings[0]?.definitions[0]?.definition || "A common item.";
    } catch {
      definition = "A common item.";
    }

    return { word, definition };
  }

  function drawGallows() {
    ctx.beginPath();
    ctx.moveTo(10, 190);
    ctx.lineTo(150, 190);
    ctx.moveTo(40, 190);
    ctx.lineTo(40, 10);
    ctx.lineTo(100, 10);
    ctx.lineTo(100, 30);
    ctx.stroke();
  }

  function drawStickman(wrong) {
    ctx.lineWidth = 2;
    ctx.strokeStyle = "#000";
    switch (wrong) {
      case 1: ctx.beginPath(); ctx.arc(100, 40, 10, 0, Math.PI * 2); ctx.stroke(); break;
      case 2: ctx.beginPath(); ctx.moveTo(100, 50); ctx.lineTo(100, 100); ctx.stroke(); break;
      case 3: ctx.beginPath(); ctx.moveTo(100, 60); ctx.lineTo(80, 80); ctx.stroke(); break;
      case 4: ctx.beginPath(); ctx.moveTo(100, 60); ctx.lineTo(120, 80); ctx.stroke(); break;
      case 5: ctx.beginPath(); ctx.moveTo(100, 100); ctx.lineTo(80, 130); ctx.stroke(); break;
      case 6: ctx.beginPath(); ctx.moveTo(100, 100); ctx.lineTo(120, 130); ctx.stroke(); break;
    }
  }

  function createKeyboard() {
    const keyboard = document.getElementById("keyboard");
    keyboard.innerHTML = "";
    for (let i = 65; i <= 90; i++) {
      const letter = String.fromCharCode(i);
      const btn = document.createElement("button");
      btn.textContent = letter;
      btn.id = "btn-" + letter;
      btn.onclick = () => handleGuess(letter, btn);
      keyboard.appendChild(btn);
    }
  }

  function displayWord() {
    const wordDiv = document.getElementById("word");
    wordDiv.textContent = chosenWord
      .split("")
      .map(letter => guessedLetters.includes(letter) ? letter : "_")
      .join(" ");
  }

  function handleGuess(letter, button) {
    if (guessedLetters.includes(letter) || wrongGuesses >= maxWrong) return;
    button.disabled = true;
    if (chosenWord.includes(letter)) {
      guessedLetters.push(letter);
      displayWord();
      checkWin();
    } else {
      wrongGuesses++;
      drawStickman(wrongGuesses);
      if (wrongGuesses >= maxWrong) endGame(false);
    }
  }

  function checkWin() {
    if (chosenWord.split("").every(l => guessedLetters.includes(l))) endGame(true);
  }

  function endGame(win) {
    document.getElementById("message").textContent = win
      ? "ðŸŽ‰ You Win!"
      : `ðŸ’€ You Lose! The word was: ${chosenWord}`;
    document.querySelectorAll("#keyboard button").forEach(btn => btn.disabled = true);
    document.getElementById("restart").style.display = "inline-block";
  }

  async function startGame() {
    guessedLetters = [];
    wrongGuesses = 0;
    document.getElementById("message").textContent = "";
    document.getElementById("restart").style.display = "none";
    document.getElementById("word").textContent = "Loading...";
    document.getElementById("hint").textContent = "Hint: loading...";
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    drawGallows();
    createKeyboard();

    const result = await getSimpleNounWithHint();
    chosenWord = result.word;
    document.getElementById("hint").textContent = "Hint: " + result.definition;
    displayWord();
  }

  // Keyboard support
  document.addEventListener("keydown", (e) => {
    const letter = e.key.toUpperCase();
    if (/^[A-Z]$/.test(letter)) {
      const button = document.getElementById("btn-" + letter);
      if (button && !button.disabled) {
        handleGuess(letter, button);
      }
    }
  });

  // Restart button
  document.getElementById("restart").onclick = startGame;

  // Start game initially
  startGame();
</script>
  <script>
    document.getElementById("modeToggle").addEventListener("change", function () {
      if (this.checked) {
        window.location.href = "stickman.html";
      }
    });
    document.getElementById("modeLabel").textContent = "Advanced Mode";
  </script>
</body>
</html>
